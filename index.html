<!DOCTYPE html>
<html lang="fr">
<head>
    <base target="_self">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pour Emmanuella ❤️</title>
    <meta name="description" content="Un site spécial créé avec amour pour Emmanuella">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'love-pink': '#ff6b8b',
                        'love-red': '#ff4757',
                        'love-light': '#fff0f3',
                        'love-dark': '#a83257'
                    },
                    fontFamily: {
                        'dancing': ['Dancing Script', 'cursive'],
                        'poppins': ['Poppins', 'sans-serif']
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'heartbeat': 'heartbeat 1.5s ease-in-out infinite',
                        'fade-in': 'fadeIn 1s ease-out'
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' }
                        },
                        heartbeat: {
                            '0%': { transform: 'scale(1)' },
                            '14%': { transform: 'scale(1.3)' },
                            '28%': { transform: 'scale(1)' },
                            '42%': { transform: 'scale(1.3)' },
                            '70%': { transform: 'scale(1)' }
                        },
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            overflow-x: hidden;
        }
        .love-gradient {
            background: linear-gradient(135deg, #ff6b8b 0%, #ff4757 50%, #a83257 100%);
        }
        .text-shadow {
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body class="min-h-screen bg-love-light font-poppins">
    <!-- Welcome Screen -->
    <div id="welcome-screen" class="fixed inset-0 z-50 flex flex-col items-center justify-center love-gradient transition-all duration-1000">
        <div class="text-center text-white px-4">
            <h1 class="text-5xl md:text-7xl font-dancing font-bold mb-6 animate-float text-shadow">Pour Emmanuella</h1>
            <p class="text-xl md:text-2xl mb-10 opacity-90">Une surprise spéciale juste pour toi ❤️</p>
            <button id="welcome-btn" class="bg-white text-love-red px-10 py-4 rounded-full text-xl font-semibold hover:scale-110 transform transition-all duration-300 animate-heartbeat shadow-2xl">
                <i class="fas fa-heart mr-3"></i>Bienvenue
            </button>
        </div>
        <div class="absolute bottom-10 text-white opacity-80">
            <p class="text-sm">Clique sur le bouton pour découvrir</p>
            <i class="fas fa-chevron-down mt-2 block text-center text-2xl"></i>
        </div>
    </div>

    <!-- Main Content (hidden initially) -->
    <div id="main-content" class="hidden opacity-0 transition-opacity duration-1000">
        <!-- Header -->
        <header class="love-gradient py-6 px-4 sticky top-0 z-40 shadow-lg">
            <div class="container mx-auto flex justify-between items-center">
                <h2 class="text-2xl font-dancing text-white font-bold">Emmanuella ❤️</h2>
                <div class="flex items-center space-x-4">
                    <button id="play-music" class="text-white hover:text-yellow-200 transition-colors">
                        <i class="fas fa-music text-xl"></i>
                    </button>
                    <button id="show-love" class="bg-white text-love-red px-4 py-2 rounded-full text-sm font-semibold hover:bg-love-light transition-colors">
                        <i class="fas fa-heart mr-2"></i>Plus d'amour
                    </button>
                </div>
            </div>
        </header>

        <!-- Hero Section -->
        <section class="py-12 px-4">
            <div class="container mx-auto text-center">
                <h1 class="text-4xl md:text-5xl font-dancing text-love-red font-bold mb-6 animate-fade-in">
                    À la plus belle ❤️
                </h1>
                <p class="text-lg text-gray-700 max-w-2xl mx-auto">
                    Ce site a été créé spécialement pour toi, Emmanuella, pour exprimer tout l'amour que je ressens.
                </p>
            </div>
        </section>

        <!-- Photo/Video Carousel -->
        <section class="py-10 px-4 bg-white">
            <div class="container mx-auto">
                <h2 class="text-3xl font-dancing text-center text-love-dark mb-10">Nos souvenirs</h2>
                <div id="carousel" class="relative overflow-hidden rounded-2xl shadow-2xl max-w-4xl mx-auto">
                    <div id="carousel-track" class="flex transition-transform duration-500"></div>
                    <button id="prev-btn" class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/80 text-love-red w-10 h-10 rounded-full hover:bg-white transition-colors">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button id="next-btn" class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/80 text-love-red w-10 h-10 rounded-full hover:bg-white transition-colors">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2" id="carousel-dots"></div>
                </div>
            </div>
        </section>

        <!-- Questions Section -->
        <section class="py-16 px-4 bg-love-light">
            <div class="container mx-auto max-w-4xl">
                <h2 class="text-3xl font-dancing text-center text-love-dark mb-12">Questions pour toi</h2>
                <div id="questions-container" class="space-y-8"></div>
            </div>
        </section>

        <!-- Poem Section -->
        <section class="py-16 px-4 bg-white">
            <div class="container mx-auto max-w-3xl">
                <div class="text-center mb-12">
                    <i class="fas fa-feather-alt text-4xl text-love-red mb-4"></i>
                    <h2 class="text-3xl font-dancing text-love-dark">Un poème pour Emmanuella</h2>
                </div>
                <div class="bg-love-light p-8 rounded-2xl shadow-lg border border-love-pink/20">
                    <div id="poem-content" class="text-lg text-gray-800 leading-relaxed text-center font-dancing"></div>
                    <div class="text-center mt-8">
                        <p class="text-love-red font-semibold">Avec tout mon amour ❤️</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer Carousel -->
        <section class="py-12 px-4 bg-love-gradient">
            <div class="container mx-auto">
                <h2 class="text-3xl font-dancing text-center text-white mb-10">Plus de moments spéciaux</h2>
                <div id="footer-carousel" class="overflow-hidden">
                    <div id="footer-track" class="flex space-x-4 animate-marquee"></div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="bg-love-dark text-white py-8 px-4">
            <div class="container mx-auto text-center">
                <p class="text-lg font-dancing mb-4">Pour toujours et à jamais</p>
                <p class="text-sm opacity-80">Créé avec ❤️ spécialement pour Emmanuella</p>
                <div class="mt-6 flex justify-center space-x-6">
                    <button class="text-white hover:text-yellow-200 transition-colors" onclick="showMessage('Je t'aime')">
                        <i class="fas fa-heart text-xl"></i>
                    </button>
                    <button class="text-white hover:text-yellow-200 transition-colors" onclick="showMessage('Tu es parfaite')">
                        <i class="fas fa-star text-xl"></i>
                    </button>
                    <button class="text-white hover:text-yellow-200 transition-colors" onclick="showMessage('Ma femme ❤️')">
                        <i class="fas fa-ring text-xl"></i>
                    </button>
                </div>
            </div>
        </footer>
    </div>

    <!-- Love Message Overlay -->
    <div id="love-message" class="fixed inset-0 z-50 flex items-center justify-center pointer-events-none opacity-0 transition-opacity duration-300">
        <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-2xl max-w-sm mx-4 transform scale-90 transition-transform">
            <p id="message-text" class="text-2xl font-dancing text-love-red text-center"></p>
        </div>
    </div>

    <!-- Audio Element -->
    <audio id="love-music" loop autoplay muted>
        <source src="Tems - Me & U (Lyrics) [ontWJdbLUxY].mp3.mpeg" type="audio/mpeg">
    </audio>

    <script>
        // Data Layer
        const carouselItems = [
            { "type": "image", "src": "WhatsApp Image 2026-02-20 at 20.27.38.jpeg", "alt": "Top model", "title": "Moment a la plage" },
            { "type": "image", "src": "WhatsApp Image 2026-02-20 at 20.27.39.jpeg", "alt": "Radieuse", "title": "Eclaire + maquillage" },
            { "type": "image", "src": "WhatsApp Image 2026-02-20 at 20.27.43.jpeg", "alt": "Selfie", "title": "Ton teint au soleil" },
            { "type": "video", "src": "WhatsApp Video 2026-02-20 at 11.48.45.mp4", "alt": "Vidéo spéciale", "title": "Play back" },
            { "type": "video", "src": "WhatsApp Video 2026-02-20 at 11.48.49.mp4", "alt": "Vidéo spéciale", "title": "Play back" }
        ];

        const footerCarouselItems = [
            { "src": "WhatsApp Image 2026-02-20 at 20.27.39 (1).jpeg", "alt": "Photo 1" },
            { "src": "WhatsApp Image 2026-02-20 at 20.27.38.jpeg", "alt": "Photo 2" },
            { "src": "WhatsApp Image 2026-02-20 at 20.27.43 (1).jpeg", "alt": "Photo 3" },
            { "src": "WhatsApp Image 2026-02-20 at 20.27.43.jpeg", "alt": "Photo 4" },
            { "src": "WhatsApp Image 2026-02-20 at 20.27.38.jpeg", "alt": "Photo 5" },
            { "src": "WhatsApp Image 2026-02-20 at 20.27.39.jpeg", "alt": "Photo 6" },
            { "src": "WhatsApp Image 2026-02-20 at 20.27.43.jpeg", "alt": "Photo 7" }
        ];

        const questionsData = [
            {
                "question": "Pourquoi tu es la plus belle ?",
                "answer": "Il y a aucune raison tu es la plus belle et puis c'est tout",
                "icon": "fas fa-crown"
            },
            {
                "question": "Tout ce que j'aime chez toi",
                "answer": "Tes fesses, Tes magnifiques yeux, Ta générosité",
                "icon": "fas fa-heart"
            },
            {
                "question": "Pourquoi tu dois devenir ma femme ?",
                "answer": "Parce que j'ai besoin d'un rayon de soleil dans ma vie",
                "icon": "fas fa-ring"
            },
            {
                "question": "Pourquoi tu as besoin de moi dans ta vie ?",
                "answer": "Je suis l'homme de ta vie et puis c'est tout",
                "icon": "fas fa-user"
            }
        ];

        const poemLines = [
            "Emmanuella, ton nom résonne comme une mélodie,",
            "Dans le jardin de mon cœur, tu es la fleur chérie.",
            "Tes yeux brillent plus que les étoiles la nuit,",
            "Et ton sourire efface toute inquiétude, tout ennui.",
            "",
            "Chaque instant avec toi est un trésor précieux,",
            "Un voyage merveilleux sous les cieux.",
            "Ton rire est une musique qui enchante mon âme,",
            "Ton amour, un feu qui toujours m'enflamme.",
            "",
            "Emmanuella, ma reine, ma douce lumière,",
            "Avec toi, chaque jour est une fête première.",
            "Que notre histoire d'amour jamais ne s'achève,",
            "Car dans tes bras, je trouve mon rêve."
        ];

        // State
        let currentCarouselIndex = 0;
        let isMusicPlaying = false;
        let footerPosition = 0;

        // Reusable Render Functions
        function renderCarouselItem(item, index) {
            const isActive = index === currentCarouselIndex;
            const mediaContent = item.type === 'video' 
                ? `<video src="${item.src}" class="h-[600px] w-auto object-cover mx-auto" muted controls autoplay></video>`
                : `<img src="${item.src}" alt="${item.alt}" class="h-[600px] w-auto object-cover mx-auto" loading="lazy">`;
            
            return `
                <div class="min-w-full ${isActive ? 'block' : 'hidden'}" data-index="${index}">
                    <div class="relative flex items-center justify-center">
                        ${mediaContent}
                        <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-6">
                            <h3 class="text-white text-2xl font-dancing">${item.title}</h3>
                            <p class="text-white/90">${item.alt}</p>
                        </div>
                        ${item.type === 'video' ? '<div class="absolute top-4 right-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm"><i class="fas fa-play mr-1"></i>Vidéo</div>' : ''}
                    </div>
                </div>
            `;
        }

        function renderCarouselDots() {
            return carouselItems.map((_, index) => `
                <button class="w-3 h-3 rounded-full ${index === currentCarouselIndex ? 'bg-white' : 'bg-white/50'} transition-colors" data-index="${index}"></button>
            `).join('');
        }

        function renderQuestionItem(item, index) {
            return `
                <div class="bg-white rounded-2xl p-6 shadow-lg border border-love-pink/20 hover:shadow-xl transition-shadow duration-300 animate-fade-in" style="animation-delay: ${index * 200}ms">
                    <div class="flex items-start">
                        <div class="bg-love-red text-white w-12 h-12 rounded-full flex items-center justify-center mr-4 flex-shrink-0">
                            <i class="${item.icon} text-xl"></i>
                        </div>
                        <div class="flex-1">
                            <h3 class="text-xl font-semibold text-love-dark mb-3">${item.question}</h3>
                            <div class="bg-love-light p-4 rounded-lg">
                                <p class="text-gray-700 italic">"${item.answer}"</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderFooterCarouselItem(item, index) {
            return `
                <div class="min-w-[300px] flex-shrink-0">
                    <div class="relative group overflow-hidden rounded-xl shadow-lg">
                        <img src="${item.src}" alt="${item.alt}" class="w-full h-[200px] object-cover group-hover:scale-110 transition-transform duration-500" loading="lazy">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                            <p class="text-white font-dancing text-lg">Emmanuella ❤️</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderPoem() {
            return poemLines.map(line => 
                line ? `<p class="mb-4">${line}</p>` : '<br>'
            ).join('');
        }

        // DOM Manipulation Functions
        function initializeCarousel() {
            const track = document.getElementById('carousel-track');
            const dots = document.getElementById('carousel-dots');
            
            track.innerHTML = carouselItems.map((item, index) => 
                renderCarouselItem(item, index)
            ).join('');
            
            dots.innerHTML = renderCarouselDots();
        }

        function updateCarousel() {
            const items = document.querySelectorAll('#carousel-track > div');
            const dots = document.querySelectorAll('#carousel-dots button');
            
            items.forEach((item, index) => {
                item.classList.toggle('hidden', index !== currentCarouselIndex);
                item.classList.toggle('block', index === currentCarouselIndex);
            });
            
            dots.forEach((dot, index) => {
                dot.className = `w-3 h-3 rounded-full ${index === currentCarouselIndex ? 'bg-white' : 'bg-white/50'} transition-colors`;
            });
        }

        function initializeFooterCarousel() {
            const track = document.getElementById('footer-track');
            // Duplicate items for seamless loop
            const duplicatedItems = [...footerCarouselItems, ...footerCarouselItems];
            track.innerHTML = duplicatedItems.map((item, index) => 
                renderFooterCarouselItem(item, index)
            ).join('');
            
            // Start animation
            animateFooterCarousel();
        }

        function animateFooterCarousel() {
            const track = document.getElementById('footer-track');
            const itemWidth = 300 + 16; // width + gap
            const totalWidth = itemWidth * footerCarouselItems.length;
            
            footerPosition -= 0.5;
            if (footerPosition <= -totalWidth) {
                footerPosition = 0;
            }
            
            track.style.transform = `translateX(${footerPosition}px)`;
            requestAnimationFrame(animateFooterCarousel);
        }

        function initializeQuestions() {
            const container = document.getElementById('questions-container');
            container.innerHTML = questionsData.map((item, index) => 
                renderQuestionItem(item, index)
            ).join('');
        }

        function initializePoem() {
            const container = document.getElementById('poem-content');
            container.innerHTML = renderPoem();
        }

        // Event Handlers
        function showMessage(text) {
            const overlay = document.getElementById('love-message');
            const messageText = document.getElementById('message-text');
            
            messageText.textContent = text;
            overlay.classList.remove('opacity-0', 'pointer-events-none');
            overlay.classList.add('opacity-100');
            
            setTimeout(() => {
                overlay.classList.remove('opacity-100');
                overlay.classList.add('opacity-0', 'pointer-events-none');
            }, 2000);
        }

        function toggleMusic() {
            const music = document.getElementById('love-music');
            const button = document.getElementById('play-music');
            
            if (isMusicPlaying) {
                music.pause();
                button.innerHTML = '<i class="fas fa-music text-xl"></i>';
            } else {
                music.play().catch(e => console.log("Audio play failed:", e));
                button.innerHTML = '<i class="fas fa-volume-up text-xl"></i>';
            }
            
            isMusicPlaying = !isMusicPlaying;
        }

        // Event Delegation Setup
        document.addEventListener('DOMContentLoaded', function() {
            // Auto unmute and play music on first user interaction
            function unmuteMusic() {
                const music = document.getElementById('love-music');
                if (music.muted) {
                    music.muted = false;
                    music.play().catch(e => console.log("Audio play failed:", e));
                    isMusicPlaying = true;
                    document.getElementById('play-music').innerHTML = '<i class="fas fa-volume-up text-xl"></i>';
                }
                document.removeEventListener('click', unmuteMusic);
                document.removeEventListener('keydown', unmuteMusic);
                document.removeEventListener('touchstart', unmuteMusic);
            }
            
            document.addEventListener('click', unmuteMusic);
            document.addEventListener('keydown', unmuteMusic);
            document.addEventListener('touchstart', unmuteMusic);
            
            // Welcome button
            document.getElementById('welcome-btn').addEventListener('click', function() {
                const welcomeScreen = document.getElementById('welcome-screen');
                const mainContent = document.getElementById('main-content');
                
                welcomeScreen.style.opacity = '0';
                setTimeout(() => {
                    welcomeScreen.style.display = 'none';
                    mainContent.classList.remove('hidden');
                    setTimeout(() => {
                        mainContent.classList.add('opacity-100');
                    }, 50);
                }, 1000);
                
                // Initialize all components
                initializeCarousel();
                initializeFooterCarousel();
                initializeQuestions();
                initializePoem();
                
                // Démarrer la musique automatiquement
                const music = document.getElementById('love-music');
                music.play().catch(e => console.log("Audio play failed:", e));
                isMusicPlaying = true;
                document.getElementById('play-music').innerHTML = '<i class="fas fa-volume-up text-xl"></i>';
            });

            // Carousel navigation
            document.getElementById('next-btn').addEventListener('click', () => {
                currentCarouselIndex = (currentCarouselIndex + 1) % carouselItems.length;
                updateCarousel();
            });

            document.getElementById('prev-btn').addEventListener('click', () => {
                currentCarouselIndex = (currentCarouselIndex - 1 + carouselItems.length) % carouselItems.length;
                updateCarousel();
            });

            // Carousel dots delegation
            document.getElementById('carousel-dots').addEventListener('click', (e) => {
                const dot = e.target.closest('button[data-index]');
                if (dot) {
                    currentCarouselIndex = parseInt(dot.dataset.index);
                    updateCarousel();
                }
            });

            // Music toggle
            document.getElementById('play-music').addEventListener('click', toggleMusic);

            // Show love button
            document.getElementById('show-love').addEventListener('click', () => {
                showMessage('Je t'aime plus que tout Emmanuella ❤️');
            });

            // Auto-advance carousel avec attente de fin de vidéo
            function autoAdvanceCarousel() {
                const currentItem = carouselItems[currentCarouselIndex];
                
                if (currentItem.type === 'video') {
                    const videoElement = document.querySelector('#carousel-track video');
                    if (videoElement) {
                        // Lancer la vidéo automatiquement
                        videoElement.autoplay = true;
                        videoElement.play().catch(e => console.log("Video autoplay failed:", e));
                        
                        // Attendre la fin de la vidéo
                        videoElement.onended = () => {
                            currentCarouselIndex = (currentCarouselIndex + 1) % carouselItems.length;
                            updateCarousel();
                            autoAdvanceCarousel();
                        };
                        return;
                    }
                }
                
                // Pour les images, attendre 5 secondes
                setTimeout(() => {
                    currentCarouselIndex = (currentCarouselIndex + 1) % carouselItems.length;
                    updateCarousel();
                    autoAdvanceCarousel();
                }, 5000);
            }
            
            autoAdvanceCarousel();

            // Prevent default anchor behavior
            document.addEventListener('click', function(event) {
                const link = event.target.closest('a[href^="#"]');
                if (link) {
                    event.preventDefault();
                    const target = document.querySelector(link.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                }
            });
        });

        // Initialize on load
        window.addEventListener('load', function() {
            // Preload first image
            const img = new Image();
            img.src = "https://picsum.photos/800/500?random=1";
        });
    </script>
</body>
</html>
